<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VARUNA - Maintenance Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #00ff00;
            overflow-x: hidden;
        }

        /* BOOT SCREEN */
        .boot-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: #000;
            color: #00ff00;
            padding: 40px;
            font-size: 16px;
            line-height: 1.8;
            z-index: 9999;
            overflow-y: auto;
        }

        .boot-line {
            margin-bottom: 10px;
        }

        .boot-ok { color: #00ff00; }
        .boot-warn { color: #ffaa00; }
        .boot-error { color: #ff0000; }

        /* HEADER */
        .header {
            background: #1a1a1a;
            border-bottom: 3px solid #00ff00;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .device-id {
            font-size: 24px;
            font-weight: bold;
            color: #00ff00;
        }

        .status-badge {
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 16px;
        }

        .badge-good { background: #00ff00; color: #000; }
        .badge-warn { background: #ffaa00; color: #000; }
        .badge-error { background: #ff0000; color: #fff; }
        .badge-offline { background: #666; color: #fff; }

        /* NAVIGATION */
        .nav {
            background: #0a0a0a;
            display: flex;
            border-bottom: 1px solid #333;
        }

        .nav-btn {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            border-right: 1px solid #333;
            color: #888;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-btn:hover {
            background: #1a1a1a;
            color: #00ff00;
        }

        .nav-btn.active {
            background: #00ff00;
            color: #000;
        }

        /* SCREEN CONTAINER */
        .screen {
            display: none;
            padding: 30px;
            min-height: calc(100vh - 180px);
        }

        .screen.active {
            display: block;
        }

        /* SECTION HEADERS */
        .section-title {
            font-size: 20px;
            color: #00ff00;
            border-bottom: 2px solid #00ff00;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        /* INFO GRID */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-card {
            background: #1a1a1a;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 20px;
        }

        .info-card.healthy { border-color: #00ff00; }
        .info-card.warning { border-color: #ffaa00; }
        .info-card.critical { border-color: #ff0000; }

        .card-header {
            font-size: 16px;
            color: #888;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .card-value {
            font-size: 36px;
            font-weight: bold;
            color: #00ff00;
            margin-bottom: 10px;
        }

        .card-detail {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }

        /* DATA TABLE */
        .data-table {
            width: 100%;
            background: #0a0a0a;
            border: 1px solid #333;
            border-collapse: collapse;
            font-size: 14px;
        }

        .data-table th {
            background: #1a1a1a;
            color: #00ff00;
            padding: 12px;
            text-align: left;
            border-bottom: 2px solid #00ff00;
        }

        .data-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #333;
            color: #888;
        }

        .data-table tr:hover {
            background: #1a1a1a;
        }

        /* LOG VIEWER */
        .log-viewer {
            background: #000;
            border: 2px solid #00ff00;
            border-radius: 5px;
            padding: 20px;
            height: 500px;
            overflow-y: auto;
            font-size: 13px;
            line-height: 1.6;
        }

        .log-line {
            margin-bottom: 8px;
            padding: 5px;
            border-left: 3px solid transparent;
        }

        .log-line.info { border-color: #00ff00; color: #00ff00; }
        .log-line.warn { border-color: #ffaa00; color: #ffaa00; }
        .log-line.error { border-color: #ff0000; color: #ff0000; }

        /* CHART AREA */
        .chart {
            background: #0a0a0a;
            border: 1px solid #333;
            border-radius: 5px;
            padding: 20px;
            height: 400px;
            position: relative;
        }

        .chart-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #666;
            font-size: 18px;
        }

        /* CONTROLS */
        .control-group {
            margin-bottom: 20px;
        }

        .control-label {
            display: block;
            color: #888;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .control-input {
            width: 100%;
            padding: 12px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 5px;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .control-input:focus {
            outline: none;
            border-color: #00ff00;
        }

        /* BUTTONS */
        .btn-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .btn {
            padding: 15px 30px;
            border: 2px solid;
            border-radius: 5px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Courier New', monospace;
        }

        .btn-primary {
            background: #00ff00;
            border-color: #00ff00;
            color: #000;
        }

        .btn-primary:hover {
            background: #00cc00;
        }

        .btn-secondary {
            background: transparent;
            border-color: #00ff00;
            color: #00ff00;
        }

        .btn-secondary:hover {
            background: #00ff00;
            color: #000;
        }

        .btn-danger {
            background: transparent;
            border-color: #ff0000;
            color: #ff0000;
        }

        .btn-danger:hover {
            background: #ff0000;
            color: #fff;
        }

        .btn-warning {
            background: transparent;
            border-color: #ffaa00;
            color: #ffaa00;
        }

        .btn-warning:hover {
            background: #ffaa00;
            color: #000;
        }

        /* SYSTEM HEALTH INDICATORS */
        .health-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .health-item {
            background: #1a1a1a;
            border-left: 4px solid;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .health-item.ok { border-color: #00ff00; }
        .health-item.warning { border-color: #ffaa00; }
        .health-item.error { border-color: #ff0000; }

        .health-label {
            font-size: 14px;
            color: #888;
        }

        .health-status {
            font-size: 18px;
            font-weight: bold;
        }

        .status-ok { color: #00ff00; }
        .status-warn { color: #ffaa00; }
        .status-error { color: #ff0000; }

        /* PROGRESS BAR */
        .progress {
            width: 100%;
            height: 30px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-bar {
            height: 100%;
            background: #00ff00;
            text-align: center;
            line-height: 30px;
            color: #000;
            font-weight: bold;
            transition: width 0.5s;
        }

        /* TERMINAL */
        .terminal {
            background: #000;
            border: 2px solid #00ff00;
            border-radius: 5px;
            padding: 20px;
            height: 600px;
            overflow-y: auto;
            font-size: 13px;
        }

        .terminal-input {
            display: flex;
            margin-top: 10px;
        }

        .terminal-prompt {
            color: #00ff00;
            margin-right: 10px;
        }

        .terminal-input input {
            flex: 1;
            background: transparent;
            border: none;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            outline: none;
        }

        /* SCROLLBAR */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }

        ::-webkit-scrollbar-thumb {
            background: #00ff00;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #00cc00;
        }
    </style>
</head>
<body>

    <!-- BOOT SCREEN -->
    <div class="boot-screen" id="bootScreen">
        <div class="boot-line">‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó</div>
        <div class="boot-line">‚ïë   VARUNA WATER LEVEL MONITORING SYSTEM - DIAGNOSTIC MODE ‚ïë</div>
        <div class="boot-line">‚ïë   Firmware: v1.0.3 | Build: 20240115                      ‚ïë</div>
        <div class="boot-line">‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù</div>
        <div class="boot-line">&nbsp;</div>
        <div class="boot-line boot-ok">[OK] Raspberry Pi 4 Model B detected</div>
        <div class="boot-line boot-ok">[OK] Loading device configuration from /etc/varuna/config.json</div>
        <div class="boot-line boot-ok">[OK] Device ID: CWC-RJ-001</div>
        <div class="boot-line boot-ok">[OK] Initializing I2C bus...</div>
        <div class="boot-line boot-ok">[OK] MPU-6050 detected at 0x68</div>
        <div class="boot-line boot-ok">[OK] MS5837 detected at 0x76</div>
        <div class="boot-line boot-ok">[OK] HC-SR04 ultrasonic sensor initialized</div>
        <div class="boot-line boot-ok">[OK] SIM7600G-H GSM module detected</div>
        <div class="boot-line boot-ok">[OK] GPS module active - Last fix: 2 minutes ago</div>
        <div class="boot-line boot-ok">[OK] RTC (DS3231) synchronized</div>
        <div class="boot-line boot-ok">[OK] Battery: 78% (12.4V) - LiFePO4 20Ah</div>
        <div class="boot-line boot-ok">[OK] SD Card: 28.7 GB free / 32 GB total</div>
        <div class="boot-line boot-ok">[OK] Loading historical data...</div>
        <div class="boot-line boot-ok">[OK] Found 8,542 records in local database</div>
        <div class="boot-line boot-ok">[OK] Last recorded water level: 87.6 cm @ 15:42:00</div>
        <div class="boot-line boot-ok">[OK] Last transmission: 2 minutes ago (SUCCESS)</div>
        <div class="boot-line boot-ok">[OK] Operating mode: NORMAL</div>
        <div class="boot-line">&nbsp;</div>
        <div class="boot-line boot-warn">[WARN] Device removed from water - entering maintenance mode</div>
        <div class="boot-line boot-warn">[WARN] Sensors will show invalid readings until redeployed</div>
        <div class="boot-line">&nbsp;</div>
        <div class="boot-line boot-ok">[OK] Starting web interface on http://localhost:8080</div>
        <div class="boot-line boot-ok">[OK] All systems operational</div>
        <div class="boot-line">&nbsp;</div>
        <div class="boot-line">Press any key to continue to maintenance interface...</div>
    </div>

    <!-- MAIN INTERFACE -->
    <div id="mainInterface" style="display: none;">
        
        <!-- HEADER -->
        <div class="header">
            <div>
                <div class="device-id">üåä VARUNA CWC-RJ-001</div>
                <div style="color: #666; font-size: 14px; margin-top: 5px;">
                    Chambal River Station 1 | Firmware v1.0.3
                </div>
            </div>
            <div>
                <div class="status-badge badge-warn">MAINTENANCE MODE</div>
                <div style="color: #666; font-size: 12px; margin-top: 5px; text-align: right;">
                    Device removed from water
                </div>
            </div>
        </div>

        <!-- NAVIGATION -->
        <nav class="nav">
            <button class="nav-btn active" onclick="showScreen('overview')">üìä OVERVIEW</button>
            <button class="nav-btn" onclick="showScreen('sensors')">üîç SENSORS</button>
            <button class="nav-btn" onclick="showScreen('history')">üìà HISTORY</button>
            <button class="nav-btn" onclick="showScreen('logs')">üìã LOGS</button>
            <button class="nav-btn" onclick="showScreen('system')">‚öôÔ∏è SYSTEM</button>
            <button class="nav-btn" onclick="showScreen('calibrate')">üìê CALIBRATE</button>
            <button class="nav-btn" onclick="showScreen('export')">üíæ EXPORT</button>
            <button class="nav-btn" onclick="showScreen('terminal')">üíª TERMINAL</button>
        </nav>

        <!-- ========== OVERVIEW SCREEN ========== -->
        <div class="screen active" id="overview">
            <div class="section-title">SYSTEM HEALTH STATUS</div>

            <div class="health-grid">
                <div class="health-item ok">
                    <span class="health-label">MPU-6050 (IMU)</span>
                    <span class="health-status status-ok">‚úì OK</span>
                </div>
                <div class="health-item ok">
                    <span class="health-label">HC-SR04 (Ultrasonic)</span>
                    <span class="health-status status-ok">‚úì OK</span>
                </div>
                <div class="health-item ok">
                    <span class="health-label">MS5837 (Pressure)</span>
                    <span class="health-status status-ok">‚úì OK</span>
                </div>
                <div class="health-item ok">
                    <span class="health-label">GPS Module</span>
                    <span class="health-status status-ok">‚úì LOCKED</span>
                </div>
                <div class="health-item ok">
                    <span class="health-label">GSM Module</span>
                    <span class="health-status status-ok">‚úì CONNECTED</span>
                </div>
                <div class="health-item ok">
                    <span class="health-label">Battery</span>
                    <span class="health-status status-ok">78%</span>
                </div>
                <div class="health-item ok">
                    <span class="health-label">Storage</span>
                    <span class="health-status status-ok">28.7 GB</span>
                </div>
                <div class="health-item ok">
                    <span class="health-label">Data Transmission</span>
                    <span class="health-status status-ok">‚úì SUCCESS</span>
                </div>
            </div>

            <div class="section-title">LAST RECORDED DATA (Before Removal)</div>

            <div class="info-grid">
                <div class="info-card healthy">
                    <div class="card-header">Water Level</div>
                    <div class="card-value">87.6 cm</div>
                    <div class="card-detail">
                        Recorded: 15-Jan-2024 15:42:00<br>
                        Status: SAFE (Below warning level)<br>
                        Trend: Rising at +2.3 cm/hr
                    </div>
                </div>

                <div class="info-card healthy">
                    <div class="card-header">Sensor Consensus</div>
                    <div class="card-value">‚úì 100%</div>
                    <div class="card-detail">
                        MPU-6050: 87.3 cm<br>
                        HC-SR04: 87.3 cm<br>
                        MS5837: 88.1 cm<br>
                        All sensors within 5% agreement
                    </div>
                </div>

                <div class="info-card healthy">
                    <div class="card-header">Operating Mode</div>
                    <div class="card-value">NORMAL</div>
                    <div class="card-detail">
                        Sampling interval: 60 minutes<br>
                        Last reading: 2 min ago<br>
                        Next scheduled: 58 min (paused)<br>
                        Uptime: 342 hours
                    </div>
                </div>

                <div class="info-card healthy">
                    <div class="card-header">Power System</div>
                    <div class="card-value">78%</div>
                    <div class="card-detail">
                        Battery: 12.4V (LiFePO4 20Ah)<br>
                        Solar input: 8.5W<br>
                        Wind input: 3.2W<br>
                        Autonomy: 4.2 days
                    </div>
                </div>

                <div class="info-card healthy">
                    <div class="card-header">Communication</div>
                    <div class="card-value">‚úì OK</div>
                    <div class="card-detail">
                        Network: 4G LTE (BSNL)<br>
                        Signal: -67 dBm (GOOD)<br>
                        Last TX: 2 min ago (SUCCESS)<br>
                        Failed transmissions: 0
                    </div>
                </div>

                <div class="info-card healthy">
                    <div class="card-header">GPS Location</div>
                    <div class="card-value">LOCKED</div>
                    <div class="card-detail">
                        Lat: 26.9124¬∞N<br>
                        Lon: 75.7873¬∞E<br>
                        Satellites: 8<br>
                        Accuracy: ¬±3m
                    </div>
                </div>
            </div>

            <div class="section-title">RECENT STATISTICS (Last 24 Hours)</div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Current</th>
                        <th>Average</th>
                        <th>Peak</th>
                        <th>Low</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Water Level (cm)</td>
                        <td style="color: #00ff00;">87.6</td>
                        <td>75.4</td>
                        <td>92.1</td>
                        <td>68.3</td>
                    </tr>
                    <tr>
                        <td>Battery (%)</td>
                        <td style="color: #00ff00;">78</td>
                        <td>76</td>
                        <td>85</td>
                        <td>68</td>
                    </tr>
                    <tr>
                        <td>Solar Input (W)</td>
                        <td style="color: #00ff00;">8.5</td>
                        <td>6.2</td>
                        <td>18.4</td>
                        <td>0.0</td>
                    </tr>
                    <tr>
                        <td>GSM Signal (dBm)</td>
                        <td style="color: #00ff00;">-67</td>
                        <td>-72</td>
                        <td>-65</td>
                        <td>-85</td>
                    </tr>
                    <tr>
                        <td>Transmission Success Rate</td>
                        <td style="color: #00ff00;">100%</td>
                        <td>99.8%</td>
                        <td>100%</td>
                        <td>99.2%</td>
                    </tr>
                </tbody>
            </table>

            <div class="btn-row">
                <button class="btn btn-primary" onclick="showScreen('history')">üìà View Full History</button>
                <button class="btn btn-secondary" onclick="showScreen('logs')">üìã View Event Logs</button>
                <button class="btn btn-secondary" onclick="showScreen('export')">üíæ Export Data</button>
            </div>
        </div>

        <!-- ========== SENSORS SCREEN ========== -->
        <div class="screen" id="sensors">
            <div class="section-title">SENSOR DIAGNOSTICS</div>

            <div style="background: #3a1a1a; border: 2px solid #ffaa00; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
                <strong style="color: #ffaa00;">‚ö†Ô∏è WARNING:</strong> Device is out of water. Sensor readings may be invalid or show error values until redeployment.
            </div>

            <div class="info-grid">
                <div class="info-card healthy">
                    <div class="card-header">üéØ MPU-6050 (PRIMARY IMU SENSOR)</div>
                    <div class="card-value">‚úì OPERATIONAL</div>
                    <div class="card-detail">
                        <strong>Last Valid Reading (in water):</strong><br>
                        Pitch Angle: 32.5¬∞<br>
                        Roll Angle: 1.2¬∞<br>
                        Calculated Level: 87.3 cm<br>
                        <br>
                        <strong>Health Check:</strong><br>
                        I2C Address: 0x68 ‚úì<br>
                        Calibration: 15-Jan 06:00 ‚úì<br>
                        Samples (last reading): 10/10 ‚úì<br>
                        Variance: 0.8¬∞ (STABLE) ‚úì<br>
                        <br>
                        <strong>Current Status:</strong><br>
                        Pitch: 89.2¬∞ (vertical - out of water)<br>
                        Response time: <1ms ‚úì
                    </div>
                    <div class="btn-row">
                        <button class="btn btn-secondary" onclick="testSensor('MPU')">üîç Test Sensor</button>
                        <button class="btn btn-warning" onclick="showScreen('calibrate')">üìê Calibrate</button>
                    </div>
                </div>

                <div class="info-card healthy">
                    <div class="card-header">üì° HC-SR04 (ULTRASONIC SENSOR)</div>
                    <div class="card-value">‚úì OPERATIONAL</div>
                    <div class="card-detail">
                        <strong>Last Valid Reading:</strong><br>
                        Distance to water: 112.7 cm<br>
                        Post height: 200 cm<br>
                        Calculated Level: 87.3 cm<br>
                        <br>
                        <strong>Health Check:</strong><br>
                        GPIO Trigger: Pin 17 ‚úì<br>
                        GPIO Echo: Pin 18 ‚úì<br>
                        Samples (last reading): 5/5 ‚úì<br>
                        Average deviation: <2cm ‚úì<br>
                        <br>
                        <strong>Current Status:</strong><br>
                        Distance: >400cm (out of range)<br>
                        Response time: 5ms ‚úì
                    </div>
                    <div class="btn-row">
                        <button class="btn btn-secondary" onclick="testSensor('US')">üîç Test Sensor</button>
                    </div>
                </div>

                <div class="info-card healthy">
                    <div class="card-header">üå°Ô∏è MS5837 (PRESSURE SENSOR)</div>
                    <div class="card-value">‚úì OPERATIONAL</div>
                    <div class="card-detail">
                        <strong>Last Valid Reading:</strong><br>
                        Pressure: 1023.4 mbar<br>
                        Temperature: 23.5¬∞C<br>
                        Calculated Depth: 88.1 cm<br>
                        <br>
                        <strong>Health Check:</strong><br>
                        I2C Address: 0x76 ‚úì<br>
                        Waterproof seal: OK ‚úì<br>
                        Max depth rating: 30m ‚úì<br>
                        Temperature sensor: OK ‚úì<br>
                        <br>
                        <strong>Current Status:</strong><br>
                        Pressure: 1013.2 mbar (atmospheric)<br>
                        Temperature: 25.1¬∞C ‚úì
                    </div>
                    <div class="btn-row">
                        <button class="btn btn-secondary" onclick="testSensor('PS')">üîç Test Sensor</button>
                    </div>
                </div>
            </div>

            <div class="section-title">SENSOR FUSION & CONSENSUS</div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Timestamp</th>
                        <th>MPU-6050</th>
                        <th>HC-SR04</th>
                        <th>MS5837</th>
                        <th>Consensus</th>
                        <th>Agreement</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>15:42:00</td>
                        <td>87.3 cm</td>
                        <td>87.3 cm</td>
                        <td>88.1 cm</td>
                        <td style="color: #00ff00;">87.6 cm</td>
                        <td style="color: #00ff00;">‚úì 100%</td>
                    </tr>
                    <tr>
                        <td>14:42:00</td>
                        <td>85.1 cm</td>
                        <td>85.0 cm</td>
                        <td>85.8 cm</td>
                        <td style="color: #00ff00;">85.3 cm</td>
                        <td style="color: #00ff00;">‚úì 100%</td>
                    </tr>
                    <tr>
                        <td>13:42:00</td>
                        <td>82.4 cm</td>
                        <td>82.6 cm</td>
                        <td>83.1 cm</td>
                        <td style="color: #00ff00;">82.7 cm</td>
                        <td style="color: #00ff00;">‚úì 100%</td>
                    </tr>
                    <tr>
                        <td>12:42:00</td>
                        <td>79.2 cm</td>
                        <td>79.1 cm</td>
                        <td>79.8 cm</td>
                        <td style="color: #00ff00;">79.4 cm</td>
                        <td style="color: #00ff00;">‚úì 100%</td>
                    </tr>
                    <tr>
                        <td>11:42:00</td>
                        <td>76.8 cm</td>
                        <td>76.9 cm</td>
                        <td>77.4 cm</td>
                        <td style="color: #00ff00;">77.0 cm</td>
                        <td style="color: #00ff00;">‚úì 100%</td>
                    </tr>
                </tbody>
            </table>

            <div class="btn-row" style="margin-top: 30px;">
                <button class="btn btn-primary" onclick="alert('Running comprehensive sensor test...')">üîç Run Full Diagnostics</button>
                <button class="btn btn-secondary" onclick="showScreen('calibrate')">üìê Calibrate All Sensors</button>
                <button class="btn btn-warning" onclick="alert('Exporting sensor data...')">üíæ Export Sensor Logs</button>
            </div>
        </div>

        <!-- ========== HISTORY SCREEN ========== -->
        <div class="screen" id="history">
            <div class="section-title">HISTORICAL DATA (Stored on Device)</div>

            <div class="info-grid">
                <div class="info-card">
                    <div class="card-header">Total Records</div>
                    <div class="card-value">8,542</div>
                    <div class="card-detail">
                        Oldest: 01-Jan-2024 00:00<br>
                        Newest: 15-Jan-2024 15:42<br>
                        Coverage: 14 days 15 hours
                    </div>
                </div>

                <div class="info-card">
                    <div class="card-header">Storage Used</div>
                    <div class="card-value">3.2 GB</div>
                    <div class="card-detail">
                        CSV logs: 1.2 GB<br>
                        Database: 1.8 GB<br>
                        Backups: 0.2 GB
                    </div>
                </div>

                <div class="info-card healthy">
                    <div class="card-header">Data Integrity</div>
                    <div class="card-value">‚úì 100%</div>
                    <div class="card-detail">
                        Corrupt records: 0<br>
                        Missing timestamps: 0<br>
                        Last backup: 2 hours ago
                    </div>
                </div>
            </div>

            <div class="section-title">WATER LEVEL TREND (Last 24 Hours)</div>
            <div class="chart">
                <div class="chart-placeholder">
                    üìà Chart Visualization Area<br>
                    <small>(Implement with Chart.js or render from stored CSV data)</small>
                </div>
            </div>

            <div class="section-title">RECENT READINGS (Last 50 Records)</div>
            <div style="max-height: 400px; overflow-y: auto;">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Water Level</th>
                            <th>Battery</th>
                            <th>Mode</th>
                            <th>TX Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>15-Jan 15:42:00</td>
                            <td style="color: #00ff00;">87.6 cm</td>
                            <td>78%</td>
                            <td>NORMAL</td>
                            <td style="color: #00ff00;">SUCCESS</td>
                        </tr>
                        <tr>
                            <td>15-Jan 14:42:00</td>
                            <td style="color: #00ff00;">85.3 cm</td>
                            <td>77%</td>
                            <td>NORMAL</td>
                            <td style="color: #00ff00;">SUCCESS</td>
                        </tr>
                        <tr>
                            <td>15-Jan 13:42:00</td>
                            <td style="color: #00ff00;">82.7 cm</td>
                            <td>76%</td>
                            <td>NORMAL</td>
                            <td style="color: #00ff00;">SUCCESS</td>
                        </tr>
                        <tr>
                            <td>15-Jan 12:42:00</td>
                            <td style="color: #00ff00;">79.4 cm</td>
                            <td>75%</td>
                            <td>NORMAL</td>
                            <td style="color: #00ff00;">SUCCESS</td>
                        </tr>
                        <tr>
                            <td>15-Jan 11:42:00</td>
                            <td style="color: #00ff00;">77.0 cm</td>
                            <td>74%</td>
                            <td>NORMAL</td>
                            <td style="color: #00ff00;">SUCCESS</td>
                        </tr>
                        <!-- More rows would be dynamically generated -->
                    </tbody>
                </table>
            </div>

            <div class="btn-row" style="margin-top: 30px;">
                <button class="btn btn-primary" onclick="alert('Generating chart...')">üìä Generate Chart</button>
                <button class="btn btn-secondary" onclick="showScreen('export')">üíæ Export All Data</button>
                <button class="btn btn-warning" onclick="if(confirm('Delete old records (>30 days)?')) alert('Cleanup complete')">üóëÔ∏è Cleanup Old Data</button>
            </div>
        </div>

        <!-- ========== LOGS SCREEN ========== -->
        <div class="screen" id="logs">
            <div class="section-title">SYSTEM EVENT LOG</div>

            <div class="log-viewer">
                <div class="log-line info">[2024-01-15 15:45:12] [INFO] Device removed from water - entering maintenance mode</div>
                <div class="log-line info">[2024-01-15 15:42:34] [INFO] Data transmission successful [200 OK] - Server acknowledged</div>
                <div class="log-line info">[2024-01-15 15:42:15] [INFO] GPRS connection established - Transmitting data packet</div>
                <div class="log-line info">[2024-01-15 15:42:00] [INFO] Hourly reading: 87.6cm (consensus) | Battery: 78% | Mode: NORMAL</div>
                <div class="log-line info">[2024-01-15 15:41:58] [INFO] Sensor consensus achieved - MPU:87.3cm, US:87.3cm, PS:88.1cm</div>
                <div class="log-line info">[2024-01-15 15:41:55] [INFO] Reading sensors - MPU-6050: 10 samples collected</div>
                <div class="log-line info">[2024-01-15 14:42:12] [INFO] Data transmission successful [200 OK]</div>
                <div class="log-line info">[2024-01-15 14:42:00] [INFO] Hourly reading: 85.3cm | Battery: 77% | Mode: NORMAL</div>
                <div class="log-line warn">[2024-01-15 13:45:33] [WARN] Water rise detected: +5.2cm in 15 minutes</div>
                <div class="log-line info">[2024-01-15 13:42:00] [INFO] Hourly reading: 82.7cm | Battery: 76% | Mode: NORMAL</div>
                <div class="log-line info">[2024-01-15 12:42:00] [INFO] Hourly reading: 79.4cm | Battery: 75% | Mode: NORMAL</div>
                <div class="log-line info">[2024-01-15 12:30:15] [INFO] Battery charged to 78% - Solar panel producing 8.5W</div>
                <div class="log-line info">[2024-01-15 11:42:00] [INFO] Hourly reading: 77.0cm | Battery: 74% | Mode: NORMAL</div>
                <div class="log-line info">[2024-01-15 06:00:45] [INFO] MPU-6050 calibration completed - 20 baseline samples collected</div>
                <div class="log-line info">[2024-01-15 06:00:15] [INFO] Starting automatic calibration sequence</div>
                <div class="log-line info">[2024-01-15 05:58:42] [INFO] System boot completed - All sensors operational</div>
                <div class="log-line info">[2024-01-15 05:58:38] [INFO] GPS fix acquired - 8 satellites locked</div>
                <div class="log-line info">[2024-01-15 05:58:35] [INFO] GSM registered on network: BSNL 4G</div>
                <div class="log-line info">[2024-01-15 05:58:30] [INFO] I2C scan complete - Devices found: 0x68, 0x76</div>
                <div class="log-line info">[2024-01-15 05:58:28] [INFO] Loading configuration from /etc/varuna/config.json</div>
                <div class="log-line info">[2024-01-15 05:58:25] [INFO] Varuna service starting - Device ID: CWC-RJ-001</div>
            </div>

            <div class="btn-row" style="margin-top: 20px;">
                <button class="btn btn-secondary" onclick="alert('Refreshing logs...')">üîÑ Refresh</button>
                <button class="btn btn-secondary" onclick="showScreen('export')">üíæ Export Logs</button>
                <button class="btn btn-warning" onclick="if(confirm('Clear all logs?')) alert('Logs cleared')">üóëÔ∏è Clear Logs</button>
            </div>
        </div>

        <!-- ========== SYSTEM SCREEN ========== -->
        <div class="screen" id="system">
            <div class="section-title">SYSTEM INFORMATION</div>

            <div class="info-grid">
                <div class="info-card">
                    <div class="card-header">Hardware</div>
                    <div class="card-detail">
                        Model: Raspberry Pi 4 Model B<br>
                        RAM: 4 GB<br>
                        CPU: ARM Cortex-A72<br>
                        CPU Temp: 45.2¬∞C ‚úì<br>
                        CPU Usage: 12%
                    </div>
                </div>

                <div class="info-card">
                    <div class="card-header">Operating System</div>
                    <div class="card-detail">
                        OS: Raspbian GNU/Linux 11<br>
                        Kernel: 5.15.84-v8+<br>
                        Uptime: 342 hours<br>
                        Load: 0.42, 0.38, 0.35
                    </div>
                </div>

                <div class="info-card">
                    <div class="card-header">Storage</div>
                    <div class="card-detail">
                        Total: 32 GB<br>
                        Used: 3.2 GB<br>
                        Available: 28.7 GB<br>
                        Usage: 10% ‚úì
                    </div>
                </div>

                <div class="info-card">
                    <div class="card-header">Network</div>
                    <div class="card-detail">
                        Interface: wwan0 (4G LTE)<br>
                        IP: 10.145.32.18<br>
                        DNS: 8.8.8.8<br>
                        Data used: 85 MB (month)
                    </div>
                </div>
            </div>

            <div class="section-title">CONFIGURATION</div>

            <div class="control-group">
                <label class="control-label">Device ID</label>
                <input type="text" class="control-input" value="CWC-RJ-001" readonly>
            </div>

            <div class="control-group">
                <label class="control-label">Site Name</label>
                <input type="text" class="control-input" value="Chambal River Station 1">
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="control-group">
                    <label class="control-label">Warning Level (cm)</label>
                    <input type="number" class="control-input" value="120">
                </div>

                <div class="control-group">
                    <label class="control-label">Danger Level (cm)</label>
                    <input type="number" class="control-input" value="150">
                </div>

                <div class="control-group">
                    <label class="control-label">Normal Interval (min)</label>
                    <input type="number" class="control-input" value="60">
                </div>

                <div class="control-group">
                    <label class="control-label">Flood Interval (min)</label>
                    <input type="number" class="control-input" value="5">
                </div>

                <div class="control-group">
                    <label class="control-label">Rope Length (m)</label>
                    <input type="number" class="control-input" value="1.50" step="0.01">
                </div>

                <div class="control-group">
                    <label class="control-label">Post Height (cm)</label>
                    <input type="number" class="control-input" value="200">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label">Primary Alert Number</label>
                <input type="tel" class="control-input" value="+919876543210">
            </div>

            <div class="control-group">
                <label class="control-label">Cloud API Endpoint</label>
                <input type="url" class="control-input" value="https://api.cwc.gov.in/varuna">
            </div>

            <div class="btn-row">
                <button class="btn btn-primary" onclick="alert('Configuration saved!')">üíæ Save Configuration</button>
                <button class="btn btn-warning" onclick="if(confirm('Reset to factory defaults?')) alert('Reset complete')">üîÑ Reset to Defaults</button>
            </div>

            <div class="section-title">OPERATING MODE</div>

            <div class="btn-row">
                <button class="btn btn-primary" onclick="alert('Switched to NORMAL mode')">‚úì NORMAL MODE</button>
                <button class="btn btn-danger" onclick="alert('Switched to FLOOD mode')">‚ö†Ô∏è FLOOD MODE</button>
                <button class="btn btn-warning" onclick="alert('Switched to LOW POWER mode')">üîã LOW POWER MODE</button>
                <button class="btn btn-secondary" onclick="alert('Switched to MAINTENANCE mode')">üîß MAINTENANCE MODE</button>
            </div>
        </div>

        <!-- ========== CALIBRATE SCREEN ========== -->
        <div class="screen" id="calibrate">
            <div class="section-title">SENSOR CALIBRATION</div>

            <div style="background: #3a1a1a; border: 2px solid #ff0000; padding: 20px; margin-bottom: 30px; border-radius: 5px;">
                <strong style="color: #ff0000;">‚ö†Ô∏è CRITICAL WARNING:</strong><br><br>
                ‚Ä¢ Device must be OUT OF WATER to calibrate<br>
                ‚Ä¢ Ensure buoy is held vertically (0¬∞ pitch)<br>
                ‚Ä¢ Avoid movement or vibrations during calibration<br>
                ‚Ä¢ Calibration takes approximately 3 minutes<br>
                ‚Ä¢ Only calibrate in stable environment (no wind, no current)
            </div>

            <div class="info-card">
                <div class="card-header">üìê CALIBRATION WIZARD</div>
                <div class="card-detail">
                    <h3 style="color: #00ff00; margin-bottom: 15px;">STEP 1: PREPARE DEVICE</h3>
                    <p style="margin-bottom: 15px; line-height: 1.8;">
                        1. Remove device from water completely<br>
                        2. Wipe sensors clean (remove debris, algae)<br>
                        3. Place device on stable, level surface<br>
                        4. Ensure buoy arm is vertical (0¬∞ pitch)<br>
                        5. Connect to this interface
                    </p>
                    <button class="btn btn-primary" onclick="startCalibrationWizard()">‚úì READY - START CALIBRATION</button>
                </div>
            </div>

            <div id="calibrationProgress" style="display: none;">
                <div class="info-card warning">
                    <div class="card-header">‚è≥ CALIBRATION IN PROGRESS</div>
                    <div class="card-detail">
                        <h3 style="color: #ffaa00; margin-bottom: 15px;">Do not disturb the device...</h3>
                        <div class="progress">
                            <div class="progress-bar" id="calibBar" style="width: 0%;">0%</div>
                        </div>
                        <p style="margin-top: 15px; color: #888;">
                            Taking 20 baseline readings from MPU-6050...<br>
                            Samples collected: <span id="sampleCount">0</span> / 20
                        </p>
                    </div>
                </div>
            </div>

            <div id="calibrationComplete" style="display: none;">
                <div class="info-card healthy">
                    <div class="card-header">‚úì CALIBRATION COMPLETE</div>
                    <div class="card-detail">
                        <h3 style="color: #00ff00; margin-bottom: 15px;">Calibration Successful</h3>
                        <p style="line-height: 1.8;">
                            Zero point established at:<br>
                            ‚Ä¢ Pitch angle: 0.5¬∞<br>
                            ‚Ä¢ Roll angle: 0.2¬∞<br>
                            ‚Ä¢ Baseline water level: 0.0 cm<br>
                            <br>
                            Calibration data saved to:<br>
                            /etc/varuna/mpu_calibration.json
                        </p>
                        <button class="btn btn-primary" onclick="location.reload()">‚úì DONE</button>
                    </div>
                </div>
            </div>

            <div class="section-title">LAST CALIBRATION</div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Timestamp</th>
                        <th>Zero Pitch</th>
                        <th>Zero Roll</th>
                        <th>Samples</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>15-Jan-2024 06:00:15</td>
                        <td>0.5¬∞</td>
                        <td>0.2¬∞</td>
                        <td>20</td>
                        <td style="color: #00ff00;">‚úì VALID</td>
                    </tr>
                    <tr>
                        <td>01-Jan-2024 10:30:42</td>
                        <td>0.4¬∞</td>
                        <td>0.3¬∞</td>
                        <td>20</td>
                        <td style="color: #00ff00;">‚úì VALID</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ========== EXPORT SCREEN ========== -->
        <div class="screen" id="export">
            <div class="section-title">DATA EXPORT & BACKUP</div>

            <div class="info-grid">
                <div class="info-card">
                    <div class="card-header">Available Data</div>
                    <div class="card-value">8,542</div>
                    <div class="card-detail">
                        Records spanning 14 days<br>
                        Total size: 3.2 GB<br>
                        Last backup: 2 hours ago
                    </div>
                </div>

                <div class="info-card">
                    <div class="card-header">Export Formats</div>
                    <div class="card-detail">
                        ‚Ä¢ CSV (comma-separated)<br>
                        ‚Ä¢ JSON (structured data)<br>
                        ‚Ä¢ SQLite database<br>
                        ‚Ä¢ Raw logs (text)
                    </div>
                </div>

                <div class="info-card">
                    <div class="card-header">Storage Options</div>
                    <div class="card-detail">
                        ‚Ä¢ USB flash drive<br>
                        ‚Ä¢ SD card<br>
                        ‚Ä¢ FTP server<br>
                        ‚Ä¢ Download to computer
                    </div>
                </div>
            </div>

            <div class="section-title">QUICK EXPORT</div>

            <div class="btn-row">
                <button class="btn btn-primary" onclick="exportData('csv')">üìä Export as CSV</button>
                <button class="btn btn-primary" onclick="exportData('json')">üîß Export as JSON</button>
                <button class="btn btn-secondary" onclick="exportData('db')">üíæ Export Database</button>
                <button class="btn btn-secondary" onclick="exportData('logs')">üìã Export Logs Only</button>
            </div>

            <div class="section-title">CUSTOM EXPORT</div>

            <div class="control-group">
                <label class="control-label">Date Range</label>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <input type="date" class="control-input" value="2024-01-01">
                    <input type="date" class="control-input" value="2024-01-15">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label">Data Fields</label>
                <div style="background: #1a1a1a; padding: 15px; border: 1px solid #333; border-radius: 5px;">
                    <label style="display: block; margin-bottom: 10px; color: #888;">
                        <input type="checkbox" checked> Timestamp
                    </label>
                    <label style="display: block; margin-bottom: 10px; color: #888;">
                        <input type="checkbox" checked> Water Level
                    </label>
                    <label style="display: block; margin-bottom: 10px; color: #888;">
                        <input type="checkbox" checked> Sensor Readings (MPU/US/PS)
                    </label>
                    <label style="display: block; margin-bottom: 10px; color: #888;">
                        <input type="checkbox" checked> Battery Status
                    </label>
                    <label style="display: block; margin-bottom: 10px; color: #888;">
                        <input type="checkbox"> GPS Location
                    </label>
                    <label style="display: block; margin-bottom: 10px; color: #888;">
                        <input type="checkbox"> GSM Signal Strength
                    </label>
                    <label style="display: block; color: #888;">
                        <input type="checkbox"> System Logs
                    </label>
                </div>
            </div>

            <div class="btn-row">
                <button class="btn btn-primary" onclick="alert('Exporting custom data...')">üì• Export Selected Data</button>
            </div>

            <div class="section-title">USB BACKUP</div>

            <div style="background: #1a1a1a; border: 1px solid #333; padding: 20px; border-radius: 5px;">
                <p style="color: #888; margin-bottom: 15px;">
                    Insert USB flash drive and click below to create full backup
                </p>
                <div class="btn-row">
                    <button class="btn btn-primary" onclick="alert('Detecting USB drive...')">üîç Detect USB Drive</button>
                    <button class="btn btn-success" onclick="backupToUSB()">üíæ Full Backup to USB</button>
                </div>
                <p style="color: #666; margin-top: 15px; font-size: 12px;">
                    Full backup includes: All data, logs, configuration, calibration files
                </p>
            </div>
        </div>

        <!-- ========== TERMINAL SCREEN ========== -->
        <div class="screen" id="terminal">
            <div class="section-title">SYSTEM TERMINAL (ROOT ACCESS)</div>

            <div class="terminal" id="terminalOutput">
                <div>Varuna Water Monitoring System - Local Terminal v1.0.3</div>
                <div>Raspberry Pi 4 Model B | Debian GNU/Linux 11 (bullseye)</div>
                <div>-----------------------------------------------------------</div>
                <div>&nbsp;</div>
                <div><span class="terminal-prompt">root@varuna-cwc-rj-001:~#</span> systemctl status varuna</div>
                <div style="color: #00ff00;">‚óè varuna.service - Varuna Water Level Monitoring Service</div>
                <div>   Loaded: loaded (/etc/systemd/system/varuna.service; enabled)</div>
                <div>   Active: <span style="color: #00ff00;">active (running)</span> since Mon 2024-01-15 05:58:25 IST</div>
                <div>Main PID: 1234 (python3)</div>
                <div>   Memory: 45.2M</div>
                <div>      CPU: 2h 15min</div>
                <div>&nbsp;</div>
                <div><span class="terminal-prompt">root@varuna-cwc-rj-001:~#</span> i2cdetect -y 1</div>
                <div>     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f</div>
                <div>00:          -- -- -- -- -- -- -- -- -- -- -- -- --</div>
                <div>10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --</div>
                <div>20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --</div>
                <div>30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --</div>
                <div>40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --</div>
                <div>50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --</div>
                <div>60: -- -- -- -- -- -- -- -- <span style="color: #00ff00;">68</span> -- -- -- -- -- -- --</div>
                <div>70: -- -- -- -- -- -- <span style="color: #00ff00;">76</span> --</div>
                <div>&nbsp;</div>
            </div>

            <div class="terminal-input">
                <span class="terminal-prompt">root@varuna-cwc-rj-001:~#</span>
                <input type="text" id="terminalInput" placeholder="Type command..." onkeypress="handleTerminal(event)">
            </div>

            <div class="btn-row" style="margin-top: 20px;">
                <button class="btn btn-secondary" onclick="executeCmd('df -h')">üíæ Disk Usage</button>
                <button class="btn btn-secondary" onclick="executeCmd('free -m')">üß† Memory</button>
                <button class="btn btn-secondary" onclick="executeCmd('python3 /opt/varuna/tools/read_sensors.py')">üì° Read Sensors</button>
                <button class="btn btn-warning" onclick="executeCmd('systemctl restart varuna')">üîÑ Restart Service</button>
                <button class="btn btn-danger" onclick="if(confirm('Reboot device?')) executeCmd('reboot')">‚ö° Reboot</button>
            </div>
        </div>

    </div>

    <script>
        // BOOT SEQUENCE
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.getElementById('bootScreen').style.display = 'none';
                document.getElementById('mainInterface').style.display = 'block';
            }, 3000);
        });

        // Allow space/enter to skip boot
        document.addEventListener('keydown', function() {
            if (document.getElementById('bootScreen').style.display !== 'none') {
                document.getElementById('bootScreen').style.display = 'none';
                document.getElementById('mainInterface').style.display = 'block';
            }
        });

        // SCREEN NAVIGATION
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            
            document.getElementById(screenId).classList.add('active');
            event.target.classList.add('active');
        }

        // SENSOR TESTING
        function testSensor(sensor) {
            alert(`Testing ${sensor} sensor...\n\n‚úì I2C/GPIO communication: OK\n‚úì Response time: <5ms\n‚úì Sensor health: GOOD\n\nSensor is operational`);
        }

        // CALIBRATION WIZARD
        function startCalibrationWizard() {
            document.querySelector('.info-card').style.display = 'none';
            document.getElementById('calibrationProgress').style.display = 'block';
            
            let progress = 0;
            let samples = 0;
            
            const interval = setInterval(function() {
                progress += 5;
                samples += 1;
                
                document.getElementById('calibBar').style.width = progress + '%';
                document.getElementById('calibBar').textContent = progress + '%';
                document.getElementById('sampleCount').textContent = samples;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    document.getElementById('calibrationProgress').style.display = 'none';
                    document.getElementById('calibrationComplete').style.display = 'block';
                }
            }, 150);
        }

        // DATA EXPORT
        function exportData(format) {
            alert(`Exporting data in ${format.toUpperCase()} format...\n\nExport complete!\nFile saved to: /var/varuna/exports/data_${Date.now()}.${format}`);
        }

        // USB BACKUP
        function backupToUSB() {
            if (confirm('Create full backup to USB drive?\n\nThis will take 2-3 minutes.')) {
                let progress = 0;
                alert('Backup started...');
                // Simulate backup process
                setTimeout(() => alert('‚úì Backup complete!\n\nAll data backed up to USB drive'), 2000);
            }
        }

        // TERMINAL HANDLING
        function handleTerminal(e) {
            if (e.key === 'Enter') {
                const cmd = e.target.value;
                executeCmd(cmd);
                e.target.value = '';
            }
        }

        function executeCmd(cmd) {
            const output = document.getElementById('terminalOutput');
            output.innerHTML += `\n<div><span class="terminal-prompt">root@varuna-cwc-rj-001:~#</span> ${cmd}</div>`;
            
            // Simulate command output
            if (cmd.includes('df')) {
                output.innerHTML += `<div>Filesystem      Size  Used Avail Use%\n/dev/root        29G  3.2G   26G  11%</div>`;
            } else if (cmd.includes('free')) {
                output.innerHTML += `<div>              total        used        free\nMem:           3916         452        3464</div>`;
            } else if (cmd.includes('read_sensors')) {
                output.innerHTML += `<div style="color: #00ff00;">Reading sensors...\nMPU-6050: 89.2¬∞ (vertical - out of water)\nHC-SR04: >400cm (out of range)\nMS5837: 1013.2 mbar (atmospheric)</div>`;
            } else if (cmd.includes('restart')) {
                output.innerHTML += `<div style="color: #ffaa00;">Restarting varuna service...</div>`;
            } else {
                output.innerHTML += `<div>${cmd}: command executed</div>`;
            }
            
            output.scrollTop = output.scrollHeight;
        }
    </script>
</body>
</html>